## 클래스 호이스팅

### 클래스는 호이스팅이 될 수 있을까?

- 클래스의 type은 함수로 평가되고, 함수 선언문과 같이 런타임 이전에 먼저 평가되어 객체를 생성한다.
- 그러나 클래스는 클래스 정의 이전에 참조할 수 없다.

```jsx
console.log(Person);

class Person {}
```

- 위와 같은 코드에서는 `ReferenceError`가 발생한다.
- 따라서 호이스팅이 발생하지 않는다고 생각할 수 있다.

```jsx
const Person = "";
{
  console.log(Person);

  class Person {}
}
```

- 위 예제에서는 console.log에서 `‘’`이 출력되지 않고 `ReferenceError`가 발생한다.
- 따라서 호이스팅이 발생하고 있지만, `let`이나 `const` 처럼 호이스팅된다.
- 클래스 선언문 이전에 TDZ에 빠져 호이스팅이 발생하지 않는 것처럼 동작한다.

## TDZ(Temporal Dead Zone)

### TDZ란?

- 일시적 사각지대
- 스코프의 시작 지점부터 초기화 시작 지점까지의 구간

### Javascript에서 변수 생성 단계

1. 선언
   - 변수를 실행 컨텍스트의 변수 객체에 등록한다.
   - 스코프가 참조하는 대상이 된다.
2. 초기화
   - 변수를 위한 메모리를 만든다.
   - 할당된 메모리에는 undefined로 초기화된다.
3. 할당
   - undefined로 초기화된 메모리에 다른 값을 할당한다.

### var, let, function의 lifecycle

1. var

   - 선언 + 초기화 단계 동시진행

   ⇒ 변수를 선언하기 전에 호출을 해도 undefined로 호출 가능

2. let

   - 선언, 초기화, 할당 단계 모두 분리되어 진행

   ⇒ 실행 컨텍스트에 변수가 등록되었지만, 메모리가 할당되지 않아 `ReferenceError` 발생

3. function

   - 선언 + 초기화 + 할당 모두 동시 진행

   ⇒ 함수 선언 전에 호출해도 에러 발생하지 않는다.

### TDZ가 존재하는 이유와 클래스 호이스팅

- let과 같은 변수에서 선언에서 초기화 단계까지 메모리가 할당되지 않는 구간에서 TDZ가 존재한다.
- 클래스는 함수로 평가되지만 호이스팅은 let과 같이 진행되어 TDZ가 존한다.
